<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue3 + TypeScript | eryexhn个人博客</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/dufeng/logo.png">
    <meta name="description" content="Life is bright, everything is lovely, the world is worth it, and the future can be expected.">
    
    <link rel="preload" href="/dufeng/assets/css/0.styles.56245d2c.css" as="style"><link rel="preload" href="/dufeng/assets/js/app.2092ac96.js" as="script"><link rel="preload" href="/dufeng/assets/js/2.15159db1.js" as="script"><link rel="preload" href="/dufeng/assets/js/21.8c323780.js" as="script"><link rel="prefetch" href="/dufeng/assets/js/10.b39053b5.js"><link rel="prefetch" href="/dufeng/assets/js/11.8bba0b5d.js"><link rel="prefetch" href="/dufeng/assets/js/12.857af7d1.js"><link rel="prefetch" href="/dufeng/assets/js/13.7e66af2a.js"><link rel="prefetch" href="/dufeng/assets/js/14.1eb3e04a.js"><link rel="prefetch" href="/dufeng/assets/js/15.4686e6d4.js"><link rel="prefetch" href="/dufeng/assets/js/16.76b8d409.js"><link rel="prefetch" href="/dufeng/assets/js/17.b9c7da2c.js"><link rel="prefetch" href="/dufeng/assets/js/18.a3ffeafc.js"><link rel="prefetch" href="/dufeng/assets/js/19.a1aa6245.js"><link rel="prefetch" href="/dufeng/assets/js/20.c8abfc9d.js"><link rel="prefetch" href="/dufeng/assets/js/3.a7b40a35.js"><link rel="prefetch" href="/dufeng/assets/js/4.f33bed16.js"><link rel="prefetch" href="/dufeng/assets/js/5.06687512.js"><link rel="prefetch" href="/dufeng/assets/js/6.79d2ed11.js"><link rel="prefetch" href="/dufeng/assets/js/7.1d21f115.js"><link rel="prefetch" href="/dufeng/assets/js/8.f7538a73.js"><link rel="prefetch" href="/dufeng/assets/js/9.ef36aded.js">
    <link rel="stylesheet" href="/dufeng/assets/css/0.styles.56245d2c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dufeng/" class="home-link router-link-active"><!----> <span class="site-name">eryexhn个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dufeng/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/dufeng/guide/" class="nav-link router-link-active">
  文档
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="各类文档链接" class="dropdown-title"><span class="title">各类文档链接</span> <span class="arrow down"></span></button> <button type="button" aria-label="各类文档链接" class="mobile-dropdown-title"><span class="title">各类文档链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          UI库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  element UI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://vant-contrib.gitee.io/vant/#/zh-CN/search" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vant UI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://ant.design/index-cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant UI(React)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.antdv.com/docs/vue/getting-started-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant UI(Vue)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.layui.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  layui
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.layui.com/admin/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  layuiAdmin
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.color-ui.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  color ui
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://v1.iviewui.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  iview
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          小程序
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小程序
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Overview.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  公众号
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          icon
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  iconFont-阿里巴巴
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          教程
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.w3school.com.cn/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  W3school
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.runoob.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  菜鸟教程
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.webpackjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  webpack
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          交流
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://segmentfault.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  segmentfault
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          假数据
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://rap2.taobao.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Rap2
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          地图
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://dafrok.github.io/vue-baidu-map/#/zh/index" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue百度地图
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://elemefe.github.io/vue-amap/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue高德地图
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          图表
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://echarts.apache.org/zh/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Echarts 图表库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://v-charts.js.org/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  V-charts 图表库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          博客
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.vuepress.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://regexper.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  正则验证
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.npmjs.com/package/compressorjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/dufeng/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/dufeng/guide/" class="nav-link router-link-active">
  文档
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="各类文档链接" class="dropdown-title"><span class="title">各类文档链接</span> <span class="arrow down"></span></button> <button type="button" aria-label="各类文档链接" class="mobile-dropdown-title"><span class="title">各类文档链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          UI库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  element UI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://vant-contrib.gitee.io/vant/#/zh-CN/search" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vant UI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://ant.design/index-cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant UI(React)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.antdv.com/docs/vue/getting-started-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant UI(Vue)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.layui.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  layui
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.layui.com/admin/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  layuiAdmin
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.color-ui.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  color ui
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://v1.iviewui.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  iview
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          小程序
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小程序
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Overview.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  公众号
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          icon
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  iconFont-阿里巴巴
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          教程
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.w3school.com.cn/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  W3school
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.runoob.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  菜鸟教程
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.webpackjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  webpack
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          交流
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://segmentfault.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  segmentfault
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          假数据
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://rap2.taobao.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Rap2
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          地图
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://dafrok.github.io/vue-baidu-map/#/zh/index" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue百度地图
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://elemefe.github.io/vue-amap/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue高德地图
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          图表
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://echarts.apache.org/zh/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Echarts 图表库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://v-charts.js.org/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  V-charts 图表库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          博客
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.vuepress.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://regexper.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  正则验证
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.npmjs.com/package/compressorjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dufeng/guide/" aria-current="page" class="sidebar-link">前言</a></li><li><a href="/dufeng/guide/bloggers.html" class="sidebar-link">关于博主</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>文章</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dufeng/guide/css.html" class="sidebar-link">CSS</a></li><li><a href="/dufeng/guide/js.html" class="sidebar-link">JavaScript</a></li><li><a href="/dufeng/guide/typeScript.html" class="sidebar-link">TypeScript</a></li><li><a href="/dufeng/guide/ES6.html" class="sidebar-link">ES6</a></li><li><a href="/dufeng/guide/vue.html" class="sidebar-link">Vue</a></li><li><a href="/dufeng/guide/vue3 + typeScript.html" class="active sidebar-link">Vue3 + typeScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#vue-cli-搭建vue3开发环境" class="sidebar-link">vue-cli 搭建Vue3开发环境</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#安装-vue-cli" class="sidebar-link">安装 Vue-cli</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#使用less" class="sidebar-link">使用less</a></li></ul></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#用vue-cli-图形界面搭建vue3环境" class="sidebar-link">用vue-cli 图形界面搭建vue3环境</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#启动-vue-cli-中的图形界面" class="sidebar-link">启动 Vue-cli 中的图形界面</a></li></ul></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#项目初始结构和重要文件" class="sidebar-link">项目初始结构和重要文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#项目基本目录讲解" class="sidebar-link">项目基本目录讲解</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#package-json-中的三条命令" class="sidebar-link">package.json 中的三条命令</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#从-main-ts-文件讲起" class="sidebar-link">从 main.ts 文件讲起</a></li></ul></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#setup-和ref-函数" class="sidebar-link">setup()和ref()函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#清理无用的代码" class="sidebar-link">清理无用的代码</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#小demo" class="sidebar-link">小demo</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#课程总结" class="sidebar-link">课程总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#用reactive-函数优化程序" class="sidebar-link">用reactive()函数优化程序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#优化程序" class="sidebar-link">优化程序</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#给-data-增加类型注解" class="sidebar-link">给 data 增加类型注解</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#用-torefs-继续优化" class="sidebar-link">用 toRefs()继续优化</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#如何选择-ref-和-reactive" class="sidebar-link">如何选择 Ref()和 reactive()</a></li></ul></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#vue3的生命周期和钩子函数" class="sidebar-link">Vue3的生命周期和钩子函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#什么是生命周期" class="sidebar-link">什么是生命周期</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#钩子函数的使用" class="sidebar-link">钩子函数的使用</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#vue2-x-和-vue3-x-生命周期对比" class="sidebar-link">Vue2.x 和 Vue3.x 生命周期对比</a></li></ul></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#onrendertracked-和-onrendertriggered-钩子函数的使用" class="sidebar-link">onRenderTracked()和 onRenderTriggered()钩子函数的使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#对新旧钩子函数的使用原则" class="sidebar-link">对新旧钩子函数的使用原则</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#onrendertracked-状态跟踪" class="sidebar-link">onRenderTracked 状态跟踪</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#onrendertriggered-状态触发" class="sidebar-link">onRenderTriggered 状态触发</a></li></ul></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#vue3中watch的使用和注意事项" class="sidebar-link">Vue3中Watch的使用和注意事项</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#修改标题引出的需求和界面修改" class="sidebar-link">修改标题引出的需求和界面修改</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#watch监听器的实现" class="sidebar-link">watch监听器的实现</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#watch多个值时" class="sidebar-link">watch多个值时</a></li></ul></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#vue3中模块化介绍-作一个时间更新模块" class="sidebar-link">Vue3中模块化介绍-作一个时间更新模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#让程序变的感情" class="sidebar-link">让程序变的感情</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#先实现功能" class="sidebar-link">先实现功能</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#独立模块化的使用" class="sidebar-link">独立模块化的使用</a></li><li class="sidebar-sub-header"><a href="/dufeng/guide/vue3 + typeScript.html#引入并使用模块" class="sidebar-link">引入并使用模块</a></li></ul></li></ul></li><li><a href="/dufeng/guide/public.html" class="sidebar-link">微信开发网页</a></li><li><a href="/dufeng/guide/react.html" class="sidebar-link">React</a></li><li><a href="/dufeng/guide/applets.html" class="sidebar-link">小程序</a></li><li><a href="/dufeng/guide/git.html" class="sidebar-link">git仓库</a></li><li><a href="/dufeng/guide/interview.html" class="sidebar-link">前端面试题</a></li><li><a href="/dufeng/guide/other.html" class="sidebar-link">其他</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue3-typescript"><a href="#vue3-typescript" class="header-anchor">#</a> Vue3 + TypeScript</h1> <h2 id="vue-cli-搭建vue3开发环境"><a href="#vue-cli-搭建vue3开发环境" class="header-anchor">#</a> vue-cli 搭建Vue3开发环境</h2> <h3 id="安装-vue-cli"><a href="#安装-vue-cli" class="header-anchor">#</a> 安装 Vue-cli</h3> <blockquote><p>Vue-cli ：Vue.js 开发的标准工具 ， 新版的 vue-cli 还提供了图形界面，如果你对命令行陌生，也可以使用图形界面。</p></blockquote> <p>简单理解<code>Vue-cli</code>的作用就是能够让你省去复杂的项目配置过程，快速生成标准化的 Vue 开发环境。</p> <p>安装：</p> <div class="language-js extra-class"><pre class="language-js"><code>npm install <span class="token operator">-</span>g @vue<span class="token operator">/</span>cli
# <span class="token constant">OR</span>
yarn global add @vue<span class="token operator">/</span>cli
</code></pre></div><p>建议使用<code>npm</code>进行安装，而且要做全局安装。因为我在使用<code>yarn</code>进行安装后，也可以安装成功，但是安装完成不能使用<code>vue</code>命令。</p> <p>安装时间两分钟左右，安装完成会有<code>success</code>的提示。</p> <p>如果你以前安装过，需要检查一下版本，升级到最新版本，因为只有最新版本(V4.5.4 以上版本)才有创建 Vue3 的选项。</p> <p>//检查版本命令为：</p> <div class="language-js extra-class"><pre class="language-js"><code>vue <span class="token operator">--</span>version
</code></pre></div><p>这时候可以展示出类似这样的版本信息<code>@vue/cli 4.5.6</code>。如果你的版本低于这个，可以再使用<code>npm install -g @vue/cli</code>来进行安装。</p> <p>使用 vue-cli 命令行创建项目</p> <p>通过 9 步对话式的询问，你就可以轻松的创建一个 Vue3 项目。</p> <p>这里我先用命令行的方式创建一个<code>Vue3</code>项目,直接在命令行中输入<code>vue create vue3-1</code>，输入完成后，他会有这样一句询问。</p> <div class="language-js extra-class"><pre class="language-js"><code>Your connection to the <span class="token keyword">default</span> yarn registry seems to be slow<span class="token punctuation">.</span>
   Use https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org <span class="token keyword">for</span> faster installation<span class="token operator">?</span> <span class="token punctuation">(</span><span class="token constant">Y</span><span class="token operator">/</span>n<span class="token punctuation">)</span>
</code></pre></div><p>意思是你不能科学上网，建议你使用淘宝源，这时候你需要选择<code>Y</code>,也就是使用淘宝源进行创建。如果你已经配置淘宝源不会显示这个选项。</p> <p>当你选择<code>Y</code>之后，就会跳出三个菜单让你选择。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">?</span> Please pick a preset<span class="token operator">:</span> <span class="token punctuation">(</span>Use arrow keys<span class="token punctuation">)</span>            <span class="token comment">//请选择预选项</span>
<span class="token operator">&gt;</span> <span class="token function">Default</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>Vue <span class="token number">2</span><span class="token punctuation">]</span> babel<span class="token punctuation">,</span> eslint<span class="token punctuation">)</span>                   <span class="token comment">//使用Vue2默认模板进行创建</span>
  <span class="token function">Default</span> <span class="token punctuation">(</span>Vue <span class="token number">3</span> Preview<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>Vue <span class="token number">3</span><span class="token punctuation">]</span> babel<span class="token punctuation">,</span> eslint<span class="token punctuation">)</span>   <span class="token comment">//使用Vue3默认模板进行创建</span>
  Manually select features                          <span class="token comment">//手动选择(自定义)的意思</span>
</code></pre></div><p>因为你要使用<code>TypeScript</code>进行开发 Vue3 的代码，所以不能直接使用第二项默认模板，这时候我们选择第三项手动选择。选择的时候按回车就可以实现。(如果这时候你没有上面的三个选项，说明的 vue-cli 是旧版本，需要你更新。)</p> <p>这时候就会出现很多可插拔的选项让你自定义选择：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">?</span> Check the features needed <span class="token keyword">for</span> your project<span class="token operator">:</span> <span class="token punctuation">(</span>Press <span class="token operator">&lt;</span>space<span class="token operator">&gt;</span> to select<span class="token punctuation">,</span> <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span> to toggle all<span class="token punctuation">,</span> <span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> to invert selection<span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> Choose Vue <span class="token function">version</span>
 <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">Babel</span>
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token function">TypeScript</span>
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> Progressive Web <span class="token function">App</span> <span class="token punctuation">(</span><span class="token constant">PWA</span><span class="token punctuation">)</span> <span class="token function">Support</span>
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token function">Router</span>
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token function">Vuex</span>
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token constant">CSS</span> Pre<span class="token operator">-</span>processors             <span class="token comment">//CSS预处理器</span>
 <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> Linter <span class="token operator">/</span> Formatter             <span class="token comment">//格式化工具</span>
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> Unit Testing                   <span class="token comment">//单元测试</span>
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token constant">E2E</span> Testing                    <span class="token comment">//E2E测试</span>
</code></pre></div><p>这里我们需要再多选一个<code>TypeScript</code>的选项，然后再按回车进入下一层选择。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">?</span> Choose a version <span class="token keyword">of</span> Vue<span class="token punctuation">.</span>js that you want to start the project <span class="token keyword">with</span> <span class="token punctuation">(</span>Use arrow keys<span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token number">2.</span>x
  <span class="token number">3.</span><span class="token function">x</span> <span class="token punctuation">(</span>Preview<span class="token punctuation">)</span>
</code></pre></div><p>这里要选择 3.x 的版本，点击回车，然后会提示你是否需要使用<code>class-style</code>，教学中旧不使用这个类样式语法了，所以我们选择<code>n</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code> Use <span class="token keyword">class</span><span class="token operator">-</span>style component syntax<span class="token operator">?</span>
</code></pre></div><p>然后会出现下面的选项 ，意思是否使用<code>TypeScript</code>和<code>Babel</code>的形式编译 JSX.这里我们也选择<code>n</code></p> <div class="language-js extra-class"><pre class="language-js"><code>Use Babel alongside <span class="token function">TypeScript</span> <span class="token punctuation">(</span>required <span class="token keyword">for</span> modern mode<span class="token punctuation">,</span> auto<span class="token operator">-</span>detected polyfills<span class="token punctuation">,</span> transpiling <span class="token constant">JSX</span><span class="token punctuation">)</span><span class="token operator">?</span> <span class="token punctuation">(</span><span class="token constant">Y</span><span class="token operator">/</span>n<span class="token punctuation">)</span>
</code></pre></div><p>然后会出现<code>ESLint</code>的一些配置,这里我们选择第一项，默认就好，因为下面这些规则并不是这个课程的重点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">?</span> Pick a linter <span class="token operator">/</span> formatter config<span class="token operator">:</span> <span class="token punctuation">(</span>Use arrow keys<span class="token punctuation">)</span>
<span class="token operator">&gt;</span> ESLint <span class="token keyword">with</span> error prevention only
  ESLint <span class="token operator">+</span> Airbnb config
  ESLint <span class="token operator">+</span> Standard config
  ESLint <span class="token operator">+</span> Prettier
  <span class="token function">TSLint</span> <span class="token punctuation">(</span>deprecated<span class="token punctuation">)</span>
</code></pre></div><p>回车后会让你选择增加<code>lint</code>的特性功能。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">?</span> Pick additional lint features<span class="token operator">:</span> <span class="token punctuation">(</span>Press <span class="token operator">&lt;</span>space<span class="token operator">&gt;</span> to select<span class="token punctuation">,</span> <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span> to toggle all<span class="token punctuation">,</span> <span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> to invert selection<span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> Lint on save         <span class="token comment">//保存的时候进行Lint</span>
 <span class="token punctuation">(</span> <span class="token punctuation">)</span> Lint and fix on commit   <span class="token comment">//需要帮你进行fix（修理），这项我们不进行选择</span>
</code></pre></div><p>回车后让你选择这些配置文件时单独存放，还是直接存放在<code>package.json</code>文件里。这里选择放在单独的文件里。</p> <div class="language-js extra-class"><pre class="language-js"><code>Where <span class="token keyword">do</span> you prefer placing config <span class="token keyword">for</span> Babel<span class="token punctuation">,</span> ESLint<span class="token punctuation">,</span> etc<span class="token punctuation">.</span><span class="token operator">?</span> In dedicated config files
</code></pre></div><p>最后一个问题，是问你需不需要把这些配置保存下来，下次好直接进行使用。我这里选择不用(n)。淡然你可以自行选择</p> <div class="language-js extra-class"><pre class="language-js"><code>Save <span class="token keyword">this</span> <span class="token keyword">as</span> a preset <span class="token keyword">for</span> future projects<span class="token operator">?</span> <span class="token punctuation">(</span>y<span class="token operator">/</span><span class="token constant">N</span><span class="token punctuation">)</span>
</code></pre></div><p>如果你同时安装了<code>npm</code>和<code>yarn</code>来个包管理软件，它还会作最后一次询问，让你选择使用什么进行下载。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">?</span> Pick the <span class="token keyword">package</span> manager to use when installing dependencies<span class="token operator">:</span>
<span class="token operator">&gt;</span> Use Yarn
  Use <span class="token constant">NPM</span>
</code></pre></div><p>我选择了<code>yarn</code>进行安装，也可能是心里问题，我老觉的 yarn 更快一些，我这里只用了 10 几秒就完成了下载和构建。 出现下面的信息，说明我们已经安装完成了。</p> <div class="language-js extra-class"><pre class="language-js"><code>Done <span class="token keyword">in</span> <span class="token number">10.33</span>s<span class="token punctuation">.</span>


 $ cd vue3<span class="token operator">-</span><span class="token number">1</span>
 $ yarn serve
</code></pre></div><p>根据提示在命令行输入<code>cd vue3-1</code>进入项目，然后再输入<code>yarn serve</code>开启项目预览。这时候就会给出两个地址，都可以访问到现在的项目.</p> <div class="language-js extra-class"><pre class="language-js"><code>  App running at<span class="token operator">:</span>
  <span class="token operator">-</span> Local<span class="token operator">:</span>   http<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">localhost:8080</span><span class="token regex-delimiter">/</span></span>
  <span class="token operator">-</span> Network<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">192.168.0.118:8080</span><span class="token regex-delimiter">/</span></span>

  Note that the development build is not optimized<span class="token punctuation">.</span>
  To create a production build<span class="token punctuation">,</span> run yarn build<span class="token punctuation">.</span>
</code></pre></div><h3 id="使用less"><a href="#使用less" class="header-anchor">#</a> 使用less</h3> <p>安装命令</p> <div class="language-js extra-class"><pre class="language-js"><code>yarn add less less<span class="token operator">-</span>loader <span class="token operator">--</span>save
</code></pre></div><h2 id="用vue-cli-图形界面搭建vue3环境"><a href="#用vue-cli-图形界面搭建vue3环境" class="header-anchor">#</a> 用vue-cli 图形界面搭建vue3环境</h2> <h3 id="启动-vue-cli-中的图形界面"><a href="#启动-vue-cli-中的图形界面" class="header-anchor">#</a> 启动 Vue-cli 中的图形界面</h3> <p>当你安装了最新版的<code>Vue-cli</code>就可以使用 <code>vue ui</code>这个命令，开启一个 UI 界面,然后会出现下面的提示。</p> <div class="language- extra-class"><pre class="language-text"><code>Starting GUI.
Ready on http://localhost:80
</code></pre></div><p>出现提示后，把<code>http://localhost:80</code>地址拷贝到浏览器地址栏中，就会出现下面的界面。</p> <p><img src="https://newimg.jspang.com/Vue3-2-2.png" alt="Vue3"></p> <p>这时候点击<code>创建</code>按钮，然后选择页面下方的<code>在此处创建新项目</code>。这时候会让你输入项目名称和包管理器。我再这里输入了<code>vue3-2</code>,并使用了<code>yarn</code>作为管理器。</p> <p><img src="https://newimg.jspang.com/Vue3-2-3.png" alt="Vue3"></p> <p>可以点击下一步了，之后会让你选择预设模板，这里选择手动。 <img src="https://newimg.jspang.com/Vue3-2-4.png" alt="Vue3"></p> <p>之后就和命令行基本一样了，根据自己的项目来进行配置。（视频中会作详细的演示） <img src="https://newimg.jspang.com/Vue3-2-5.png" alt="Vue3"></p> <p>这不完成后，可以选择“创建项目”，然后弹出提示，问是不是保存这个配置，这里依然是不保存。</p> <p><img src="https://newimg.jspang.com/Vue3-2-6.png" alt="Vue3"></p> <p>这时候如果你注意<code>VSCode</code>中的终端，会发现它开始为我们构建项目。大概一分钟左右，会跳出下面的页面，说明项目已经构建完成。 <img src="https://newimg.jspang.com/Vue3-2-7.png" alt="Vue3"></p> <p>这时候再回到 VSCode 的终端中，进入项目<code>cd vue3-2</code>,然后启动服务<code>npm serve</code>,等到服务启动后在浏览器地址栏输入<code>http://localhost:8080/</code>，就可以看到下面的界面了。</p> <p><img src="https://newimg.jspang.com/Vue3-2-1.png" alt="https://newimg.jspang.com/Vue3-2-1.png"></p> <p>看到这个界面，正面你的 Vue3+TypeScript 项目已经创建好了。</p> <h2 id="项目初始结构和重要文件"><a href="#项目初始结构和重要文件" class="header-anchor">#</a> 项目初始结构和重要文件</h2> <h3 id="项目基本目录讲解"><a href="#项目基本目录讲解" class="header-anchor">#</a> 项目基本目录讲解</h3> <p>以一个目录树状结构进行展示。后边的作用我也写到了下面</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">|</span><span class="token operator">-</span>node_modules       <span class="token operator">--</span> 所有的项目依赖包都放在这个目录下
<span class="token operator">|</span><span class="token operator">-</span><span class="token keyword">public</span>             <span class="token operator">--</span> 公共文件夹
<span class="token operator">--</span><span class="token operator">-</span><span class="token operator">|</span>favicon<span class="token punctuation">.</span>ico      <span class="token operator">--</span> 网站的显示图标
<span class="token operator">--</span><span class="token operator">-</span><span class="token operator">|</span>index<span class="token punctuation">.</span>html       <span class="token operator">--</span> 入口的html文件
<span class="token operator">|</span><span class="token operator">-</span>src                <span class="token operator">--</span> 源文件目录，编写的代码基本都在这个目录下
<span class="token operator">--</span><span class="token operator">-</span><span class="token operator">|</span>assets           <span class="token operator">--</span> 放置静态文件的目录，比如logo<span class="token punctuation">.</span>pn就放在这里
<span class="token operator">--</span><span class="token operator">-</span><span class="token operator">|</span>components       <span class="token operator">--</span> Vue的组件文件，自定义的组件都会放到这
<span class="token operator">--</span><span class="token operator">-</span><span class="token operator">|</span>router           <span class="token operator">--</span> 路由
<span class="token operator">--</span><span class="token operator">-</span><span class="token operator">|</span>store            <span class="token operator">--</span> vuex
<span class="token operator">--</span><span class="token operator">-</span><span class="token operator">|</span>views            <span class="token operator">--</span> Vue的组件文件，也就是放在路由上的组件
<span class="token operator">--</span><span class="token operator">-</span><span class="token operator">|</span>App<span class="token punctuation">.</span>vue          <span class="token operator">--</span> 根组件，这个在Vue2中也有
<span class="token operator">--</span><span class="token operator">-</span><span class="token operator">|</span>main<span class="token punctuation">.</span>ts          <span class="token operator">--</span> 入口文件，因为采用了TypeScript所以是ts结尾
<span class="token operator">--</span><span class="token operator">-</span><span class="token operator">|</span>shims<span class="token operator">-</span>vue<span class="token punctuation">.</span>d<span class="token punctuation">.</span>ts   <span class="token operator">--</span> <span class="token function">类文件</span><span class="token punctuation">(</span>也叫定义文件<span class="token punctuation">)</span>，因为<span class="token punctuation">.</span>vue结尾的文件在ts中不认可，所以要有定义文件
<span class="token operator">|</span><span class="token operator">-</span><span class="token punctuation">.</span>browserslistrc    <span class="token operator">--</span> 在不同前端工具之间公用目标浏览器和node版本的配置文件，作用是设置兼容性
<span class="token operator">|</span><span class="token operator">-</span><span class="token punctuation">.</span>eslintrc<span class="token punctuation">.</span>js       <span class="token operator">--</span> Eslint的配置文件，不用作过多介绍
<span class="token operator">|</span><span class="token operator">-</span><span class="token punctuation">.</span>gitignore         <span class="token operator">--</span> 用来配置那些文件不归git管理
<span class="token operator">|</span><span class="token operator">-</span><span class="token keyword">package</span><span class="token punctuation">.</span>json       <span class="token operator">--</span> 命令配置和包管理文件
<span class="token operator">|</span><span class="token operator">-</span><span class="token constant">README</span><span class="token punctuation">.</span>md          <span class="token operator">--</span> 项目的说明文件，使用markdown语法进行编写
<span class="token operator">|</span><span class="token operator">-</span>tsconfig<span class="token punctuation">.</span>json      <span class="token operator">--</span> 关于TypoScript的配置文件
<span class="token operator">|</span><span class="token operator">-</span>yarn<span class="token punctuation">.</span>lock          <span class="token operator">--</span> 使用yarn后自动生成的文件，由Yarn管理，安装yarn包时的重要信息存储到yarn<span class="token punctuation">.</span>lock文件中
</code></pre></div><p>这就是基本目录结构和用处了，你可以在表中自查。</p> <h3 id="package-json-中的三条命令"><a href="#package-json-中的三条命令" class="header-anchor">#</a> package.json 中的三条命令</h3> <p>上两节课你可以使用<code>npm run serve</code>或<code>yarn serve</code>查看项目效果，就是因为有<code>package.json</code>中的<code>scripts</code>起到了作用。先来看一下这三条命令。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token comment">//----</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service serve&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service build&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-service lint&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//----</span>
<span class="token punctuation">}</span>
</code></pre></div><p>能使用<code>vue-cli-service</code>是因为<code>vue-cli</code>自动安装了<code>cli-service</code>这个工具，此处可以在<code>devDependencies</code>中看出哦。</p> <p>这三个命令的意思是：</p> <ul><li>serve : 在开发时用于查看效果的命令，视频中演示看一下效果</li> <li>build : 打包打码，一般用于生产环境中使用</li> <li>lint : 检查代码中的编写规范</li></ul> <p>我们顺便讲一下<code>package.json</code>中另外两个比较重要的配置项<code>dependencies</code>和<code>devDependencies</code>。这两个都是用来记录安装包信息的，但如果要想完全搞清楚他们的区别，你先要弄清楚什么是开发环境和生产环境。</p> <ul><li>开发环境： 作为一个程序员，每天作的事情都是在开发环境中，编写代码、测试代码、修改 Bug。也就说这些代码没有上线。</li> <li>生产环境：就是代码已经上线，放到了正式的服务器上，公司开始运营去赚钱的代码。</li></ul> <p>明白了这两个概念后，<code>dependencies</code>下的包是生产环境中必须用到的，当然开发环境也需要。<code>devDependencies</code>是只有开发环境中使用的，上线后这些包就没用了，打包后也不会打包进去的代码。</p> <h3 id="从-main-ts-文件讲起"><a href="#从-main-ts-文件讲起" class="header-anchor">#</a> 从 main.ts 文件讲起</h3> <p>项目里边还有一个非常重要的文件<code>main.ts</code>文件，你可以把它叫做<code>入口文件</code>,这里边只有简单的三行代码。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 引入vue文件，并导出`createApp`</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.vue&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 引入自定义组件，你在页面上看的东西基本都在这个组件里</span>

<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 把App挂载到#app节点上，在public目录下的index.html找节点</span>
</code></pre></div><p>顺着这个线索你可以找到<code>App.vue</code>这个组件，打开这个组件，看到里边的内容还是很多的，甚至你可能还有些东西看不明白。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>img alt<span class="token operator">=</span><span class="token string">&quot;Vue logo&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;./assets/logo.png&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>HelloWorld msg<span class="token operator">=</span><span class="token string">&quot;Welcome to Your Vue.js + TypeScript App&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">'./components/HelloWorld.vue'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    HelloWorld
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
#app <span class="token punctuation">{</span>
  font<span class="token operator">-</span>family<span class="token operator">:</span> Avenir<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> sans<span class="token operator">-</span>serif<span class="token punctuation">;</span>
  <span class="token operator">-</span>webkit<span class="token operator">-</span>font<span class="token operator">-</span>smoothing<span class="token operator">:</span> antialiased<span class="token punctuation">;</span>
  <span class="token operator">-</span>moz<span class="token operator">-</span>osx<span class="token operator">-</span>font<span class="token operator">-</span>smoothing<span class="token operator">:</span> grayscale<span class="token punctuation">;</span>
  text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
  color<span class="token operator">:</span> #<span class="token number">2</span>c3e50<span class="token punctuation">;</span>
  margin<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token number">60</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre></div><p>在这个根组件里模板、vue 的 js 业务逻辑代码和 css 代码。在业务逻辑代码中，你可以看到引入了一个<code>HelloWorld.vue</code>的自定义组件。</p> <p>这个自定义组件里边就是放了一些链接和模板用的 html 代码了，可以试着删除一些 html 代码，然后查看效果。</p> <h2 id="setup-和ref-函数"><a href="#setup-和ref-函数" class="header-anchor">#</a> setup()和ref()函数</h2> <h3 id="清理无用的代码"><a href="#清理无用的代码" class="header-anchor">#</a> 清理无用的代码</h3> <p>在用<code>vue-cli</code>生产的 Vue3 项目中，有一些默认的代码，为了方便学习，这些代码需要清理掉无用的代码。</p> <p>打开根组件<code>App.vue</code>文件，去掉<code>HelloWorld</code>自定义组件相关代码。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>img alt<span class="token operator">=</span><span class="token string">&quot;Vue logo&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;./assets/logo.png&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;App&quot;</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
#app <span class="token punctuation">{</span>
  font<span class="token operator">-</span>family<span class="token operator">:</span> Avenir<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> sans<span class="token operator">-</span>serif<span class="token punctuation">;</span>
  <span class="token operator">-</span>webkit<span class="token operator">-</span>font<span class="token operator">-</span>smoothing<span class="token operator">:</span> antialiased<span class="token punctuation">;</span>
  <span class="token operator">-</span>moz<span class="token operator">-</span>osx<span class="token operator">-</span>font<span class="token operator">-</span>smoothing<span class="token operator">:</span> grayscale<span class="token punctuation">;</span>
  text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
  color<span class="token operator">:</span> #<span class="token number">2</span>c3e50<span class="token punctuation">;</span>
  margin<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token number">60</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre></div><p>这时候再进行浏览就没有其他的元素了，只剩下一个<code>Vue</code>的图标。就可以继续开发啦。这时候你可以在终端中运行<code>yarn serve</code>,在浏览器中预览一下效果。</p> <h3 id="小demo"><a href="#小demo" class="header-anchor">#</a> 小demo</h3> <p>在<code>App.vue</code>里添加如下代码，我先修改了<code>template</code>,增加了两行代码和一个按钮。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>img alt<span class="token operator">=</span><span class="token string">&quot;Vue logo&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;./assets/logo.png&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>请选择一名员工进行该项目操作<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><p>然后我开始改写<code>&lt;script&gt;</code>部分，使用<code>setup()</code>新语法，写了这个就不需要再写<code>data</code>这样的东西了。然后在<code>setup</code>中加入一个<code>girls</code>变量，为了能让模板中进行使用，还需要返回。（没有 Vue2 直接写 data 那么直观，但这正式 Vue3 的先进之处，不用暴漏在界面中的变量就可以不进行返回了。精确控制那些方法和变量被导出和使用）。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;App&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> girls <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      girls
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>写完后可以把这三个员工用按钮的形式展示在页面上,这里使用<code>v-for</code>语法。代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>button v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in girls&quot;</span> v<span class="token operator">-</span>bind<span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span><span class="token operator">&gt;</span>
  <span class="token punctuation">{</span><span class="token punctuation">{</span> index <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> item <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</code></pre></div><p>现在要实现的就是当我们点击按钮的时候，触发一个方法<code>selectGirlFun</code>，方法绑定一个选定值<code>selectGirl</code>,具体实现代码如下。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;App&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> girls <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> selectGirl <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">selectGirlFun</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">index<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      selectGirl<span class="token punctuation">.</span>value <span class="token operator">=</span> girls<span class="token punctuation">.</span>value<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//因为在模板中这些变量和方法都需要条用，所以需要return出去。</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      girls<span class="token punctuation">,</span>
      selectGirl<span class="token punctuation">,</span>
      selectGirlFun<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>修改<code>template</code>代码，为<code>Button</code>绑定<code>selectGirlFun</code>事件，实现联动效果。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>img alt<span class="token operator">=</span><span class="token string">&quot;Vue logo&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;./assets/logo.png&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>请选择一名员工进行该项目操作<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button
      v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in girls&quot;</span>
      v<span class="token operator">-</span>bind<span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span>
      @click<span class="token operator">=</span><span class="token string">&quot;selectGirlFun(index)&quot;</span>
    <span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">{</span> index <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> item <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>你选择了【<span class="token punctuation">{</span><span class="token punctuation">{</span> selectGirl <span class="token punctuation">}</span><span class="token punctuation">}</span>】员工<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><p>这样我们这个demo就完成了。</p> <h3 id="课程总结"><a href="#课程总结" class="header-anchor">#</a> 课程总结</h3> <p>我们通过一个简单demo，来总结一下：</p> <ul><li><code>setup</code> 函数的用法，可以代替 Vue2 中的 date 和 methods 属性，直接把逻辑卸载 setup 里就可以</li> <li><code>ref</code> 函数的使用，它是一个神奇的函数，我们这节只是初次相遇，要在<code>template</code>中使用的变量，必须用<code>ref</code>包装一下。</li> <li><code>return</code>出去的数据和方法，在模板中才可以使用，这样可以精准的控制暴漏的变量和方法。</li></ul> <h2 id="用reactive-函数优化程序"><a href="#用reactive-函数优化程序" class="header-anchor">#</a> 用reactive()函数优化程序</h2> <h3 id="优化程序"><a href="#优化程序" class="header-anchor">#</a> 优化程序</h3> <p>所有的变量和方法都混淆在一起，在<code>setup</code>中要改变和读取一个值的时候，还要加上<code>value</code>。这种代码一定是可以优化的，需要引入一个新的 API<code>reactive</code>。它也是一个函数(方法)，只不过里边接受的参数是一个 Object(对象)。</p> <p>然后无论是变量和方法，都可以作为 Object 中的一个属性，而且在改变<code>selectGirl</code>值的时候也不用再加讨厌的<code>value</code>属性了。再<code>return</code>返回的时候也不用一个个返回了，只需要返回一个<code>data</code>,就可以了。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;App&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      girls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      selectGirl<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">selectGirlFun</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">index<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        data<span class="token punctuation">.</span>selectGirl <span class="token operator">=</span> data<span class="token punctuation">.</span>girls<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      data<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>修改完成<code>&lt;script&gt;</code>部分的代码后，还需要修改<code>template</code>部分的代码，因为我们这时候返回的只有<code>data</code>,所以模板部分的字面量前要加入<code>data</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>img alt<span class="token operator">=</span><span class="token string">&quot;Vue logo&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;./assets/logo.png&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>请选择一名员工进行该项目操作<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button
      v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in data.girls&quot;</span>
      v<span class="token operator">-</span>bind<span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span>
      @click<span class="token operator">=</span><span class="token string">&quot;data.selectGirlFun(index)&quot;</span>
    <span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">{</span> index <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> item <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>你选择了【<span class="token punctuation">{</span><span class="token punctuation">{</span> data<span class="token punctuation">.</span>selectGirl <span class="token punctuation">}</span><span class="token punctuation">}</span>】员工<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><h3 id="给-data-增加类型注解"><a href="#给-data-增加类型注解" class="header-anchor">#</a> 给 data 增加类型注解</h3> <p><code>类型注解</code>，而是采用了<code>TypeScript</code>的类型推断。</p> <p>定义一个接口,用接口(<code>interface</code>)来作类型注解。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">DataProps</span> <span class="token punctuation">{</span>
  girls<span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  selectGirl<span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token function-variable function">selectGirlFun</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">index<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>编写完成后，你在显示的为 <code>data</code> 变量作一个类型注解.</p> <div class="language-js extra-class"><pre class="language-js"><code>cosnt data<span class="token operator">:</span> DataProps <span class="token operator">=</span> <span class="token operator">...</span>
</code></pre></div><p>这时候我们的代码才是严谨的。</p> <h3 id="用-torefs-继续优化"><a href="#用-torefs-继续优化" class="header-anchor">#</a> 用 toRefs()继续优化</h3> <p>现在<code>template</code>中，每次输出变量前面都要加一个<code>data</code>,这是可以优化的。用<code>...</code>扩展运算符是不可以解决这个问题了。</p> <p>使用 Vue3 的一个新函数<code>toRefs()</code>。使用前需要先进行引入。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>引入后就可以对<code>data</code>进行包装，把 data 变成<code>refData</code>,这样就可以使用扩展运算符的方式了。具体代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;App&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// const girls = ref([&quot;张三&quot;, &quot;李四&quot;, &quot;王五&quot;]);</span>
    <span class="token comment">// const selectGirl = ref(&quot;&quot;);</span>
    <span class="token comment">// const selectGirlFun = (index: number) =&gt; {</span>
    <span class="token comment">//   selectGirl.value = girls.value[index];</span>
    <span class="token comment">// };</span>
    <span class="token keyword">const</span> data<span class="token operator">:</span> DataProps <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      girls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      selectGirl<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">selectGirlFun</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">index<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        data<span class="token punctuation">.</span>selectGirl <span class="token operator">=</span> data<span class="token punctuation">.</span>girls<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> refData <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>refData<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>这样写之后，你的<code>template</code>就应该去掉 data,而是直接使用变量名和方法，就可以了。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>img alt<span class="token operator">=</span><span class="token string">&quot;Vue logo&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;./assets/logo.png&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>请选择一名员工进行该项目操作<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button
      v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in girls&quot;</span>
      v<span class="token operator">-</span>bind<span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span>
      @click<span class="token operator">=</span><span class="token string">&quot;selectGirlFun(index)&quot;</span>
    <span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">{</span> index <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> item <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>你选择了【<span class="token punctuation">{</span><span class="token punctuation">{</span> selectGirl <span class="token punctuation">}</span><span class="token punctuation">}</span>】员工<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><h3 id="如何选择-ref-和-reactive"><a href="#如何选择-ref-和-reactive" class="header-anchor">#</a> 如何选择 Ref()和 reactive()</h3> <p>网络上对这两个方法的争论还是不少的，但到目前为止，还没有什么实质性的理论到底是用<code>Ref()</code>好，还是<code>reactive()</code>好，也就是两种方法都可以。他们的作用都是生成响应式对象，目前来看只是编写上有所不同。</p> <p>个人更倾向于使用<code>reactive()</code>,因为它让程序看起来更规范。</p> <h2 id="vue3的生命周期和钩子函数"><a href="#vue3的生命周期和钩子函数" class="header-anchor">#</a> Vue3的生命周期和钩子函数</h2> <h3 id="什么是生命周期"><a href="#什么是生命周期" class="header-anchor">#</a> 什么是生命周期</h3> <blockquote><p>Vue 是组件化编程，从一个组件诞生到消亡，会经历很多过程，这些过程就叫做生命周期。</p></blockquote> <p>来个比喻，生命周期和人从出生到入土是一样的。有少年时期、有青年时期、有中年时期、有老年时期。每个时期都应该有不同的任务，可以作不同的事。</p> <p>当你理解了什么是生命周期，你还了解一个概念“钩子函数”。</p> <blockquote><p>钩子函数： 伴随着生命周期，给用户使用的函数，操控生命周期，主要是操控钩子函数。</p></blockquote> <p>Vue3 的生命周期比较多，我们需要一个个给大家讲。</p> <ul><li>setup() :开始创建组件之前，在<code>beforeCreate</code>和<code>created</code>之前执行。创建的是<code>data</code>和<code>method</code></li> <li>onBeforeMount() : 组件挂载到节点上之前执行的函数。</li> <li>onMounted() : 组件挂载完成后执行的函数。</li> <li>onBeforeUpdate(): 组件更新之前执行的函数。</li> <li>onUpdated(): 组件更新完成之后执行的函数。</li> <li>onBeforeUnmount(): 组件卸载之前执行的函数。</li> <li>onUnmounted(): 组件卸载完成后执行的函数</li> <li>onActivated(): 被包含在<code>&lt;keep-alive&gt;</code>中的组件，会多出两个生命周期钩子函数。被激活时执行。</li> <li>onDeactivated(): 比如从 A 组件，切换到 B 组件，A 组件消失时执行。</li> <li>onErrorCaptured(): 当捕获一个来自子孙组件的异常时激活钩子函数（以后用到再讲，不好展现）。</li></ul> <p>注：使用<code>&lt;keep-alive&gt;</code>组件会将数据保留在内存中，比如我们不想每次看到一个页面都重新加载数据，就可以使用<code>&lt;keep-alive&gt;</code>组件解决。</p> <h3 id="钩子函数的使用"><a href="#钩子函数的使用" class="header-anchor">#</a> 钩子函数的使用</h3> <p>Vue3.x 生命周期在调用前需要先进行引入,我们先暂时演示前五个生命周期。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  reactive<span class="token punctuation">,</span>
  toRefs<span class="token punctuation">,</span>
  onMounted<span class="token punctuation">,</span>
  onBeforeMount<span class="token punctuation">,</span>
  onBeforeUpdate<span class="token punctuation">,</span>
  onUpdated<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>先来说<code>setup()</code>,setup 这个函数是在<code>beforeCreate</code>和<code>created</code>之前运行的,所以你可以用它来代替这两个钩子函数。</p> <p>为了看出钩子函数执行的时机，我在<code>setup()</code>函数里，编写了下面的代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>

<span class="token comment">//....</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;App&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1-开始创建组件-----setup()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> data<span class="token operator">:</span> DataProps <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      girls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      selectGirl<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">selectGirlFun</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">index<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        data<span class="token punctuation">.</span>selectGirl <span class="token operator">=</span> data<span class="token punctuation">.</span>girls<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">onBeforeMount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;2-组件挂载到页面之前执行-----onBeforeMount()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;3-组件挂载到页面之后执行-----onMounted()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">onBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;4-组件更新之前-----onBeforeUpdate()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">onUpdated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;5-组件更新之后-----onUpdated()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> refData <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>refData<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> app<span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>写完后可以到浏览器看一下效果，效果和你想象的应该是一样的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span> <span class="token operator">-</span> 开始创建组件<span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">-</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">2</span> <span class="token operator">-</span> 组件挂载到页面之前执行<span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">-</span> <span class="token function">onBeforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">3</span> <span class="token operator">-</span> 组件挂载到页面之后执行<span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">-</span> <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">4</span> <span class="token operator">-</span> 组件更新之前<span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">-</span> <span class="token function">onBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">5</span> <span class="token operator">-</span> 组件更新之后<span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">-</span> <span class="token function">onUpdated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>你这时候一定会有个疑问，那<code>Vue2.X</code>版本的生命周期函数还可以使用吗?答案是肯定的。</p> <p>你可以在<code>setup()</code>函数之后编写<code>Vue2</code>的生命周期函数，代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1-组件创建之前-----beforeCreate()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;2-组件挂载到页面之前执行-----BeforeMount()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;3-组件挂载到页面之后执行-----Mounted()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;4-组件更新之前-----BeforeUpdate()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;5-组件更新之后-----Updated()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>这时候可以看到，原来的生命周期也是完全可以使用。</p> <h3 id="vue2-x-和-vue3-x-生命周期对比"><a href="#vue2-x-和-vue3-x-生命周期对比" class="header-anchor">#</a> Vue2.x 和 Vue3.x 生命周期对比</h3> <p>你也许会问，那我到底是使用<code>Vue2.x</code>还是<code>Vue3.x</code>的生命周期钩子函数？其实这个无所谓，但是不愿混用，如果你用 setup 这种<code>Vue3</code>的生命周期函数，就不要再使用<code>Vue2</code>的了。为了你更好的掌握，我作了一个函数对比：</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue2<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>vue3
beforeCreate  <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
created       <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
beforeMount   <span class="token operator">-</span><span class="token operator">&gt;</span> onBeforeMount
mounted       <span class="token operator">-</span><span class="token operator">&gt;</span> onMounted
beforeUpdate  <span class="token operator">-</span><span class="token operator">&gt;</span> onBeforeUpdate
updated       <span class="token operator">-</span><span class="token operator">&gt;</span> onUpdated
beforeDestroy <span class="token operator">-</span><span class="token operator">&gt;</span> onBeforeUnmount
destroyed     <span class="token operator">-</span><span class="token operator">&gt;</span> onUnmounted
activated     <span class="token operator">-</span><span class="token operator">&gt;</span> onActivated
deactivated   <span class="token operator">-</span><span class="token operator">&gt;</span> onDeactivated
errorCaptured <span class="token operator">-</span><span class="token operator">&gt;</span> onErrorCaptured
</code></pre></div><p>通过这样对比，可以很容易的看出 vue3 的钩子函数基本是再 vue2 的基础上加了一个<code>on</code>,但也有两个钩子函数发生了变化。</p> <ul><li><code>BeforeDestroy</code>变成了<code>onBeforeUnmount</code></li> <li><code>destroyed</code>变成了<code>onUnmounted</code></li></ul> <p>尤大神的介绍是<code>mount</code>比<code>Destroy</code>更形象，也和<code>beforeMount</code>相对应。</p> <h2 id="onrendertracked-和-onrendertriggered-钩子函数的使用"><a href="#onrendertracked-和-onrendertriggered-钩子函数的使用" class="header-anchor">#</a> onRenderTracked()和 onRenderTriggered()钩子函数的使用</h2> <h3 id="对新旧钩子函数的使用原则"><a href="#对新旧钩子函数的使用原则" class="header-anchor">#</a> 对新旧钩子函数的使用原则</h3> <p>Vue 官方的文档里，明确指出了。如果你使用 Vue3，请尽量使用新的生命周期钩子函数，也就是上节课写在<code>setup()</code>函数中带<code>on</code>的这些钩子函数。</p> <h3 id="onrendertracked-状态跟踪"><a href="#onrendertracked-状态跟踪" class="header-anchor">#</a> onRenderTracked 状态跟踪</h3> <p><code>onRenderTracked</code>直译过来就是<code>状态跟踪</code>，它会跟踪页面上所有响应式变量和方法的状态，也就是我们用<code>return</code>返回去的值，他都会跟踪。只要页面有<code>update</code>的情况，他就会跟踪，然后生成一个<code>event</code>对象，我们通过<code>event</code>对象来查找程序的问题所在。</p> <p>使用<code>onRenderTracked</code>同样要使用<code>import</code>进行引入。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token punctuation">.</span> <span class="token punctuation">,</span>onRenderTracked<span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>引用后就可以在<code>setup()</code>函数中进行引用了。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">onRenderTracked</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;状态跟踪组件-----------&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>写完后可以到终端中启动测试服务<code>yarn serve</code>,然后看一下效果，在组件没有更新的时候<code>onRenderTracked</code>是不会执行的，组件更新时，他会跟组里边每个值和方法的变化。</p> <h3 id="onrendertriggered-状态触发"><a href="#onrendertriggered-状态触发" class="header-anchor">#</a> onRenderTriggered 状态触发</h3> <p><code>onRenderTriggered</code>直译过来是<code>状态触发</code>，它不会跟踪每一个值，而是给你变化值的信息，并且新值和旧值都会给你明确的展示出来。</p> <p>如果把<code>onRenderTracked</code>比喻成散弹枪，每个值都进行跟踪，那<code>onRenderTriggered</code>就是狙击枪，只精确跟踪发生变化的值，进行针对性调试。</p> <p>使用它同样要先用<code>import</code>进行引入</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token punctuation">.</span> <span class="token punctuation">,</span>onRenderTriggered<span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>在使用<code>onRenderTriggered</code>前，记得注释相应的<code>onRenderTracked</code>代码，这样看起来会直观很多。 然后把<code>onRenderTriggered()</code>函数，写在<code>setup()</code>函数里边，</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">onRenderTriggered</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;状态触发组件---------------&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>对 event 对象属性的详细介绍：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">-</span> key 那边变量发生了变化
<span class="token operator">-</span> newValue 更新后变量的值
<span class="token operator">-</span> oldValue 更新前变量的值
<span class="token operator">-</span> target 目前页面中的响应变量和函数
</code></pre></div><p>通过这些你能很好的对代码进行调试。这些调试用的钩子函数，如果你能正确合理的使用，是真的可以快速解决问题的。</p> <h2 id="vue3中watch的使用和注意事项"><a href="#vue3中watch的使用和注意事项" class="header-anchor">#</a> Vue3中Watch的使用和注意事项</h2> <h3 id="修改标题引出的需求和界面修改"><a href="#修改标题引出的需求和界面修改" class="header-anchor">#</a> 修改标题引出的需求和界面修改</h3> <p>类似的情况也会有，比如根据值的变化，进行网络请求，根据值的变化进行组件的生成和销毁（我们经常成为这类操作为副作用）。把这类需求写在<code>watch</code>监听器里就是不错的选择。</p> <p>在写代码之前，你可以删除前两节课学习生命周期时的钩子函数，让代码变得干净一些。</p> <p>现在你可以先作一个按钮的响应值和改变值的方法，并写在<code>setup()</code>函数中，这里我使用了ref来生成响应式数据，你可以跟着我一起复习一下。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token comment">//.....</span>
  <span class="token keyword">const</span> overText <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">overAction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    overText<span class="token punctuation">.</span>value <span class="token operator">=</span> overText<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token string">&quot;工作完成 | &quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>refData<span class="token punctuation">,</span>  overText<span class="token punctuation">,</span>   overAction<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><p>写完js代码后，在<code>template</code>模板中，编写下面的代码，这样可以在点击按钮时，调用<code>overAction</code>函数。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;overAction&quot;</span><span class="token operator">&gt;</span>工作完成<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> overText <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><p>改变的时候直接用js修改WEB的title。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">overAction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      overText<span class="token punctuation">.</span>value <span class="token operator">=</span> overText<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token string">&quot;工作完成 | &quot;</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span>title <span class="token operator">=</span> overText<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>都完成后，可以到浏览器中看一下你写的效果。发现我们写的根本没有用处，跟我们想的一点都不一样。这时候就需要Watch来救场啦。</p> <h3 id="watch监听器的实现"><a href="#watch监听器的实现" class="header-anchor">#</a> watch监听器的实现</h3> <p>使用watch同样需要先进行导入.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token operator">...</span> <span class="token punctuation">,</span> watch<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
</code></pre></div><p>引入后编写watch函数，它接受两个参数，第一个是要监听的值，这里是<code>overText</code>，然后是一个回调函数。在函数中你可以获得到新知和老值。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token function">watch</span><span class="token punctuation">(</span>overText<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> newValue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>为了看到效果，我用<code>console.log</code>输出一下新值和老值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">watch</span><span class="token punctuation">(</span>overText<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">new---&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newValue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">old---&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>oldValue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> newValue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="watch多个值时"><a href="#watch多个值时" class="header-anchor">#</a> watch多个值时</h3> <p>当你要监听多个值的时候，不是写多个<code>watch</code>函数，而是要传入数组的形式。比如现在我们同时要监听<code>data</code>中你选择了那个员工，也就是<code>selectGirl</code>时，我们可以使用数组的形式。</p> <p>我们把程序写成这个样子，然后到浏览器中预览。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>overText<span class="token punctuation">,</span> data<span class="token punctuation">.</span>selectGirl<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">new---&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newValue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">old---&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>oldValue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span>title <span class="token operator">=</span> newValue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//返回的newValue也是一个数组</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>发现报错了，它告诉我们可以用一个函数解决<code>reactive</code>中的值的问题。把程序写成这个下面的样子就不报错了。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>overText<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> data<span class="token punctuation">.</span>selectGirl<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">new---&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newValue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">old---&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>oldValue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> newValue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>现在程序就可以正常运行了，有人会说Vue3不能监听<code>reactive</code>里边的值是不是一个Bug，我想说的这并不是Bug，而是为了保持和Vue2的一致性，因为在Vue2中也时这种结果，解决方案是要么是ref或者这种get/set方法的形式。要么你你开启设置<code>watchOptions</code>的deep为true，也就是深度监听模式。</p> <h2 id="vue3中模块化介绍-作一个时间更新模块"><a href="#vue3中模块化介绍-作一个时间更新模块" class="header-anchor">#</a> Vue3中模块化介绍-作一个时间更新模块</h2> <p>使用Vue2.x的版本，一定会使用<code>mixins</code>进行代码的重用。当有<code>Vue3.x</code></p> <h3 id="让程序变的感情"><a href="#让程序变的感情" class="header-anchor">#</a> 让程序变的感情</h3> <p>为了方便学习，我们把程序中大部分代码删除掉，修改为下面的样子。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;App&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> app<span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
#app <span class="token punctuation">{</span>
  font<span class="token operator">-</span>family<span class="token operator">:</span> Avenir<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> sans<span class="token operator">-</span>serif<span class="token punctuation">;</span>
  <span class="token operator">-</span>webkit<span class="token operator">-</span>font<span class="token operator">-</span>smoothing<span class="token operator">:</span> antialiased<span class="token punctuation">;</span>
  <span class="token operator">-</span>moz<span class="token operator">-</span>osx<span class="token operator">-</span>font<span class="token operator">-</span>smoothing<span class="token operator">:</span> grayscale<span class="token punctuation">;</span>
  text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
  color<span class="token operator">:</span> #<span class="token number">2</span>c3e50<span class="token punctuation">;</span>
  margin<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token number">60</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre></div><p>然后就可以编写代码了</p> <h3 id="先实现功能"><a href="#先实现功能" class="header-anchor">#</a> 先实现功能</h3> <p>先来看不重用的写法，也就是我们把程序直接写在<code>App.vue</code>这个组件里。这里你可以先顶一个<code>ref</code>变量<code>nowTime</code>,然后通过<code>getNowTime</code>的方法，让他可以显示并一直更新当前时间。最后在<code>return</code>里返回这个变量和方法。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//....</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;App&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//.....</span>
    <span class="token keyword">const</span> nowTime <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;00:00:00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getNowTime</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> hour <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> now<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> minu <span class="token operator">=</span>now<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> now<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> sec <span class="token operator">=</span>now<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> now<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      nowTime<span class="token punctuation">.</span>value <span class="token operator">=</span> hour <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> minu <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> sec<span class="token punctuation">;</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span>getNowTime<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//每一秒执行一次这个方法</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">//....</span>
      nowTime<span class="token punctuation">,</span>
      getNowTime<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> app<span class="token punctuation">;</span>
</code></pre></div><p>然后你需要在<code>template</code>里使用他们，代码如下.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> nowTime <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;getNowTime&quot;</span><span class="token operator">&gt;</span>显示时间<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><p>这样就可以在浏览器里看到初始时间<code>00:00:00</code>，点击按钮后，开始显示当前时间，并一直更新。</p> <h3 id="独立模块化的使用"><a href="#独立模块化的使用" class="header-anchor">#</a> 独立模块化的使用</h3> <p>这个显示时间的方法，可能在其他页面中也会使用，所以现在的需求是把这个时间显示的功能进行模块和重用化。</p> <p>可以在<code>src</code>目录下，新建一个文件夹<code>hooks</code>(所有抽离出来的功能模块都可以放到这个文件夹里)，然后再新建一个文件<code>useNowTime.ts</code>,这里使用<code>use</code>开头是一个使用习惯，代表是一个抽离出来的模块。</p> <p>有了模块之后，我们就可以把写的代码复制到<code>useNowTime.ts</code>文件里了。然后进行必要的修改。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> nowTime <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;00:00:00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">getNowTime</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> hour <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> now<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> minu <span class="token operator">=</span>
        now<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> now<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> sec <span class="token operator">=</span>
        now<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> now<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    nowTime<span class="token punctuation">.</span>value <span class="token operator">=</span> hour <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> minu <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> sec<span class="token punctuation">;</span>

    <span class="token function">setTimeout</span><span class="token punctuation">(</span>getNowTime<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> nowTime<span class="token punctuation">,</span> getNowTime <span class="token punctuation">}</span>
</code></pre></div><p>需要注意的是，你需要在代码的最前面用<code>import</code>进行引入<code>ref</code>,在最后用<code>export</code>的方式，导出<code>nowTime</code>和<code>getNowTime</code>.</p> <h3 id="引入并使用模块"><a href="#引入并使用模块" class="header-anchor">#</a> 引入并使用模块</h3> <p>模块写好了，回到<code>App.vue</code>页面，现在可以引入并使用模块了。</p> <p>引入代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> nowTime<span class="token punctuation">,</span> getNowTime <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./hooks/useNowTime&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>然后记得，要用return进行导出哦</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">return</span> <span class="token punctuation">{</span>nowTime<span class="token punctuation">,</span>getNowTime<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>现在可以看出这种方式，比vue2中要好很多，不用再使用<code>mixins</code>(混入)要好很多。我觉的这个算是Vue3.x一个非常重要的改进。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/dufeng/guide/vue.html" class="prev">
        Vue
      </a></span> <span class="next"><a href="/dufeng/guide/public.html">
        微信开发网页
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/dufeng/assets/js/app.2092ac96.js" defer></script><script src="/dufeng/assets/js/2.15159db1.js" defer></script><script src="/dufeng/assets/js/21.8c323780.js" defer></script>
  </body>
</html>
